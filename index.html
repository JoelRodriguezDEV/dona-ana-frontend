<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menú Digital - Doña Ana</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <style>
        [x-cloak] { display: none !important; }
    </style>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            light: '#F59E0B',
                            dark: '#D97706'
                        },
                        secondary: {
                            light: '#B45309',
                            dark: '#92400E'
                        },
                        background: {
                            light: '#FEF3C7',
                            dark: '#1F2937'
                        }
                    },
                    fontFamily: {
                        heading: ['"Playfair Display"', 'serif'],
                        body: ['Poppins', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <link rel="stylesheet" href="style.css">
</head>
<body x-data="{ darkMode: false, mobileMenuOpen: false }" 
      x-init="
        darkMode = JSON.parse(localStorage.getItem('darkMode'));
        $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)))"
      :class="{ 'dark': darkMode }"
      class="bg-background-light dark:bg-background-dark transition-colors duration-300">
    
    <!-- WhatsApp Floating Button -->
    <button id="open-whatsapp-modal-btn" 
    class="fixed bottom-6 right-6 z-50 bg-[#25D366] text-white p-3 rounded-full shadow-lg flex items-center justify-center pulse">
    
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp Icon" class="w-8 h-8"/>
    
    <span id="cart-counter" class="absolute -top-2 -right-2 bg-red-600 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center hidden">
        0
    </span>
</button>

<div id="whatsapp-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 w-full max-w-md">
        
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-bold text-gray-800 dark:text-white">Resumen de tu Pedido</h2>
            <button id="close-whatsapp-modal-btn" class="text-gray-500 hover:text-gray-800 dark:hover:text-white">×</button>
        </div>

        <form id="whatsapp-form">
            
            <div id="cart-summary-list" class="mb-4 max-h-60 overflow-y-auto">
                <p class="text-gray-600 dark:text-gray-300">Tu carrito está vacío.</p>
            </div>
            
            <div id="cart-total" class="text-right font-bold text-lg text-gray-800 dark:text-white mb-6">
                Total: $0 DOP
            </div>
            
            <button id="send-whatsapp-btn" type="submit" class="w-full mt-4 bg-primary-light hover:bg-primary-dark text-white font-bold py-2 px-4 rounded-full transition duration-300">
                Confirmar Pedido por WhatsApp
            </button>
        </form>
    </div>
</div>

<div id="toast-notification" class="hidden fixed bottom-24 right-6 z-50 bg-gray-900 text-white py-2 px-5 rounded-lg shadow-lg">
    Artículo añadido al carrito
</div>
    <!-- Cabecera con blur agregado -->
    <header class="fixed top-0 left-0 right-0 z-40 header-blur transition-all duration-300">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <button @click="mobileMenuOpen = !mobileMenuOpen" class="md:hidden text-primary-light dark:text-primary-dark">
                    <i x-show="!mobileMenuOpen" data-feather="menu"></i>
                    <i x-show="mobileMenuOpen" data-feather="x"></i>
                </button>
                <a href="#" class="flex items-center space-x-2 bg-transparent"> 
        <img src="/static/logo.png" alt="Logo Restaurante Doña Ana" class="h-10 w-auto"> 
        <span class="text-2xl font-heading font-bold text-primary-light dark:text-primary-dark">Parada Doña Ana</span>
                </a>
            </div>
            
            <nav class="hidden md:flex space-x-6">
                <a href="#inicio" class="text-gray-800 dark:text-gray-200 hover:text-primary-light dark:hover:text-primary-dark transition">Inicio</a>
                <a href="#menu" class="text-gray-800 dark:text-gray-200 hover:text-primary-light dark:hover:text-primary-dark transition">Menú</a>
                <a href="#contacto" class="text-gray-800 dark:text-gray-200 hover:text-primary-light dark:hover:text-primary-dark transition">Contacto</a>
                <button @click="darkMode = !darkMode" class="text-gray-800 dark:text-gray-200 hover:text-primary-light dark:hover:text-primary-dark transition">
                    <i x-show="darkMode" data-feather="sun"></i>
                    <i x-show="!darkMode" data-feather="moon"></i>
                </button>
            </nav>
            
            <button @click="darkMode = !darkMode" class="md:hidden text-gray-800 dark:text-gray-200">
                <i x-show="darkMode" data-feather="sun"></i>
                <i x-show="!darkMode" data-feather="moon"></i>
            </button>
        </div>
        
        <!-- Mobile Menu -->
        <div x-show="mobileMenuOpen" @click.away="mobileMenuOpen = false" x-cloak class="md:hidden absolute top-16 left-0 right-0 bg-white dark:bg-gray-800 shadow-lg py-3 px-4">
            <a href="#inicio" class="block py-2 text-gray-800 dark:text-gray-200 hover:text-primary-light dark:hover:text-primary-dark">Inicio</a>
            <a href="#menu" class="block py-2 text-gray-800 dark:text-gray-200 hover:text-primary-light dark:hover:text-primary-dark">Menú</a>
            <a href="#contacto" class="block py-2 text-gray-800 dark:text-gray-200 hover:text-primary-light dark:hover:text-primary-dark">Contacto</a>
        </div>
    </header>

    <!-- Hero Section with Blur Background -->
<section id="inicio" class="relative h-screen flex items-center justify-center overflow-hidden">
        <div class="hero-bg absolute top-0 left-0 w-full h-full" style="background-image: url('static/hero.png')"></div>
        
        <div class="absolute inset-0 bg-black opacity-30"></div>
        
        <div class="relative z-10 text-center px-4 max-w-4xl mx-auto fade-in">
            <h1 class="text-5xl md:text-6xl font-heading font-bold text-white mb-6">Sabores Auténticos de Bonao</h1>
            <p class="text-xl text-white mb-8">Descubre nuestra deliciosa cocina dominicana en un ambiente familiar y acogedor</p>
            <a href="#menu" class="inline-block bg-primary-light hover:bg-primary-dark text-white font-bold py-3 px-8 rounded-full transition duration-300 transform hover:scale-105">
                Ver Menú
            </a>
        </div>
        
        <div class="absolute bottom-10 left-0 right-0 z-10 flex justify-center">
    <a id="hero-arrow" href="#menu" class="text-white animate-bounce">
        <i data-feather="chevron-down" class="w-10 h-10"></i>
    </a>
</div>
</section>

    <!-- Menu Section -->
    <section id="menu" class="py-20 px-4 container mx-auto">
    <div class="text-center mb-16 fade-in">
        <h2 class="text-4xl font-heading font-bold text-primary-light dark:text-primary-dark mb-4">Nuestro Menú</h2>
        <p class="text-lg text-black dark:text-gray-600 max-w-2xl mx-auto">Selecciona una categoría para ver nuestros platos</p>
    </div>

    <div class="mb-8 fade-in">

        <!--Refactor: Vacía el selector de categorías móvil para carga dinámica.
        Se eliminan las <option> estáticas del 'dropdown' (#category-select)
        para la vista móvil. Este 'select' ahora será poblado dinámicamente
        vía JavaScript, asegurando consistencia con los botones de desktop
        y los datos de la API.-->
        <select id="category-select" class="block w-full p-3 rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 border-transparent focus:border-primary-light focus:ring-primary-light md:hidden">
    </select>

        <!-- Refactor: Reemplaza botones de categoría estáticos por un contenedor dinámico.
        Se elimina la lista 'hardcodeada' de botones y se añade un 'div' vacío
        con el ID 'category-buttons-container'. Esto permite que las categorías
        sean cargadas y renderizadas dinámicamente (ej. vía JavaScript desde una API). -->
        <div id="category-buttons-container" class="hidden md:flex overflow-x-auto pb-4 space-x-2 scrollbar-hide justify-center">
    </div>
    </div>

    <!--Este es un cambio clave para hacer que tu menú sea verdaderamente dinámico.
En lugar de tener múltiples rejillas (grids) en tu HTML (una para "Entradas", otra para "De la casa", etc.), que tendrías que mostrar u ocultar, las estás eliminando todas.
Las reemplazas por un solo contenedor padre (#menu-grids-container).
Ahora, tu JavaScript se encargará de consultar la API y crear dinámicamente las rejillas de cada categoría (junto con todos sus platos) y las insertará dentro de este único contenedor.
Beneficio principal: Si en el futuro añades una nueva categoría en Strapi (ej. "Especiales de Fin de Semana"), tu código JavaScript la leerá, creará su rejilla automáticamente y la mostrará en la página. No tendrás que volver a modificar tu archivo index.html para nada.
Refactor: Reemplaza rejillas de menú estáticas por un contenedor principal.
Se eliminan todos los 'div.dish-grid' que estaban predefinidos por
categoría. Se introduce un único 'div#menu-grids-container'.
Este contenedor actuará como el "padre" donde JavaScript creará
y añadirá dinámicamente la rejilla para cada categoría obtenida
desde la API, junto con sus respectivos platos.-->
<div id="menu-grids-container">
    </div>
</section>


    <!-- Seccion de contacto -->
    <section id="contacto" class="py-20 px-4 bg-gray-100 dark:bg-gray-800">
        <div class="container mx-auto max-w-4xl">
            <div class="text-center mb-16 fade-in">
                <h2 class="text-4xl font-heading font-bold text-primary-light dark:text-primary-dark mb-4">Visítanos</h2>
                <p class="text-lg text-gray-600 dark:text-gray-300">Estamos ubicados en la Carretera Principal de Bonao</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 fade-in">
                <div class="bg-white dark:bg-gray-700 p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Horario</h3>
                    <ul class="space-y-3">
                        <li class="flex justify-between text-gray-600 dark:text-gray-300">
                            <span>Lunes - Viernes:</span>
                            <span>8:00 AM - 10:00 PM</span>
                        </li>
                        <li class="flex justify-between text-gray-600 dark:text-gray-300">
                            <span>Sábado:</span>
                            <span>9:00 AM - 11:00 PM</span>
                        </li>
                        <li class="flex justify-between text-gray-600 dark:text-gray-300">
                            <span>Domingo:</span>
                            <span>10:00 AM - 9:00 PM</span>
                        </li>
                    </ul>
                    
                    <div class="mt-8">
                        <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Contacto</h3>
                        <div class="flex items-center space-x-3 mb-3 text-gray-600 dark:text-gray-300">
                            <i data-feather="phone"></i>
                            <span>+1 (809)-123-4567</span>
                        </div>
                        <div class="flex items-center space-x-3 text-gray-600 dark:text-gray-300">
                            <i data-feather="mail"></i>
                            <span>cocinadonaana@gmail.com</span>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white dark:bg-gray-700 p-8 rounded-lg shadow-md">
                    <h3 class="text-2xl font-bold text-gray-800 dark:text-white mb-4">Ubicación</h3>
                    <div class="aspect-w-16 aspect-h-9 rounded-lg overflow-hidden">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3784.276329132621!2d-70.4094851246636!3d18.500364982623284!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8eaf8b7c8b9d3b5f%3A0x1d5b8f0f9b3b3b3b!2sBonao%2C%20Rep%C3%BAblica%20Dominicana!5e0!3m2!1ses!2sus!4v1620000000000!5m2!1ses!2sus" 
                                title="Ubicación en Google Maps" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                    
                    <div class="mt-6 flex justify-center">
                        <a href="https://wa.me/18091234567?text=Hola%20Doña%20Ana,%20quiero%20hacer%20una%20reservación" 
                           class="inline-flex items-center bg-primary-light hover:bg-primary-dark text-white font-bold py-3 px-6 rounded-full transition duration-300">
                            <i data-feather="message-circle" class="mr-2"></i>
                            Reservar por WhatsApp
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 dark:bg-gray-900 text-white py-12 px-4">
        <div class="container mx-auto max-w-6xl">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-2xl font-heading font-bold mb-4">Doña Ana</h3>
                    <p class="text-gray-300">Restaurante familiar especializado en comida tradicional dominicana desde 1985.</p>
                </div>
                
                <div>
                    <h4 class="text-xl font-bold mb-4">Enlaces Rápidos</h4>
                    <ul class="space-y-2">
                        <li><a href="#inicio" class="text-gray-300 hover:text-primary-light transition">Inicio</a></li>
                        <li><a href="#menu" class="text-gray-300 hover:text-primary-light transition">Menú</a></li>
                        <li><a href="#contacto" class="text-gray-300 hover:text-primary-light transition">Contacto</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-xl font-bold mb-4">Síguenos</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-300 hover:text-primary-light transition">
                            <i data-feather="facebook"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-primary-light transition">
                            <i data-feather="instagram"></i>
                        </a>
                        <a href="#" class="text-gray-300 hover:text-primary-light transition">
                            <i data-feather="twitter"></i>
                        </a>
                    </div>
                    
                    <div class="mt-6">
                        <h5 class="font-bold mb-2">Descarga nuestro Menú Digital</h5>
                        <button class="bg-primary-light hover:bg-primary-dark text-white py-2 px-4 rounded-full text-sm">
                            Generar Código QR
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>© 2023 Restaurante Doña Ana. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="main.js"></script>
</body>
</html>